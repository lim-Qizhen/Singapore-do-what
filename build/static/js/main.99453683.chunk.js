(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{23:function(e,t,n){e.exports={navbar:"NavBar_navbar__2UpCW",active:"NavBar_active__hqGOc"}},36:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(21),i=n.n(a),r=(n(36),n(18)),s=n.n(r),c=n(22),l=n(7),o=n(1),j=n(23),h=n.n(j),u=n(10),d=n(0),b=function(e){return Object(d.jsx)("header",{className:h.a.navbar,children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{onClick:function(t){t.preventDefault(),e.onSearch(!1)},children:Object(d.jsx)(u.b,{to:"/",children:"Search"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/plan",children:"Plan"})})]})})})},p=function(e){var t=Object(o.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1],r=function(t){t.preventDefault(),e.onSubmit(a),i("")};return Object(d.jsxs)("form",{onSubmit:r,style:{textAlign:"center"},children:[Object(d.jsx)("p",{style:{fontFamily:"Corinthia, cursive",fontSize:"30px"},children:"What would you like to do?"}),Object(d.jsx)("input",{style:{width:"200px",margin:"2px"},placeholder:"keyword",value:a,onChange:function(e){i(e.target.value)}}),Object(d.jsx)("button",{onClick:r,type:"submit",children:"Search"})]})},g=n(9),m=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("h5",{style:{marginBottom:"0"},children:[Object(d.jsx)(u.b,{style:{color:"black"},to:"/search/".concat(e.result.name),children:e.result.name}),Object(d.jsx)("span",{style:{float:"right"},children:e.result.rating>0?e.result.rating:"-"})]}),Object(d.jsxs)("p",{style:{fontSize:"small",margin:"0"},children:[e.result.description.slice(0,100),"..."]})]})})},f=n(8),x=n.n(f),O=function(e){var t=Object(o.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1],r=function(t){t.preventDefault(),h("asc"),e.onSubmit(a),i("")},s=Object(o.useState)("asc"),c=Object(l.a)(s,2),j=c[0],h=c[1],u="asc"===j?Object(g.a)(e.results):Object(g.a)(e.results).reverse();return Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{onSubmit:r,style:{textAlign:"center",marginTop:"10px"},children:[Object(d.jsx)("input",{style:{width:"200px",margin:"2px"},placeholder:"keyword",onChange:function(e){i(e.target.value)},value:a}),Object(d.jsx)("button",{type:"submit",onClick:r,children:"Search"})]}),Object(d.jsxs)("div",{className:x.a.results,children:['Results displayed for "',e.user,'"',Object(d.jsxs)("select",{id:"dropdown",onChange:function(e){e.preventDefault(),h(e.target.value)},style:{float:"right"},name:"nameSort",value:j,children:[Object(d.jsx)("option",{value:"asc",children:"Ascending"}),Object(d.jsx)("option",{value:"desc",children:"Descending"})]}),u.map((function(e){return Object(d.jsx)(m,{result:e})}))]})]})},v=n(2),y=n(20),w=n.n(y),k=n(26),S=function(e){for(var t=Object(v.e)(),n=e.results.map((function(e){return e.name})),a=e.results[n.indexOf(t.name)],i=a.reviews,r=i.map((function(e){return Object(d.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(d.jsxs)("p",{style:{margin:"0"},children:[e.authorName,Object(d.jsx)("span",{style:{float:"right",color:"rgb(106,106,106)"},children:e.time.split("T")[0]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{value:e.rating,size:18,isHalf:!0,edit:!1,activeColor:"rgb(248, 162, 42)"})}),Object(d.jsx)("p",{style:{fontSize:"small",margin:"0"},children:e.text})]})})),s=a.contact.primaryContactNo,c=a.officialEmail,l=-1,o=0;o<e.wishlist.length;o++)e.wishlist[o].name===a.name&&(l=o);var j=-1!==l,h="black";h=j?"red":"black";return Object(d.jsxs)("div",{className:x.a.results,style:{position:"relative"},children:[Object(d.jsxs)("h3",{children:[a.name," ",Object(d.jsxs)("span",{style:{float:"right"},children:[a.rating,"/5"]})]}),Object(d.jsxs)("button",{onClick:function(t){j?e.onLike((function(e){return Object(g.a)(e).filter((function(e,t){return t!==l}))})):e.onLike((function(e){return[].concat(Object(g.a)(e),[{name:a.name,lat:a.location.latitude,long:a.location.longitude}])}))},children:[Object(d.jsx)("i",{className:"fa fa-heart",style:{color:"".concat(h)}})," I want!"]}),Object(d.jsx)("div",{className:x.a.rating,children:Object(d.jsx)(w.a,{value:a.rating,size:24,isHalf:!0,edit:!1,activeColor:"rgb(248, 162, 42)"})}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{className:x.a.general,children:["Address:"," ",""!==a.address.streetName?"".concat(a.address.block," ").concat(a.address.streetName):"-"]}),Object(d.jsxs)("p",{className:x.a.general,children:["Nearest MRT station: ",a.nearestMrtStation]}),Object(d.jsxs)("p",{className:x.a.general,children:["Official Website: ",Object(d.jsx)(d.Fragment,{children:" "}),0!==a.officialWebsite.length?Object(d.jsx)("a",{href:"h"===a.officialWebsite[0]?a.officialWebsite:"https://"+a.officialWebsite,target:"_blank",rel:"noopener noreferrer",children:""!==a.officialWebsite?"".concat(a.officialWebsite):"-"}):"-"]}),Object(d.jsxs)("p",{className:x.a.general,children:["Pricing:"," ",0!==a.pricing.others.length?a.pricing.others:"-"]}),function(e,t){return 0!==e.length&&0!==t.length?Object(d.jsxs)("p",{className:x.a.general,children:["Call them at ",Object(d.jsx)(d.Fragment,{}),Object(d.jsxs)("a",{href:"tel:"+e,children:[e," "]}),"or drop ",Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("a",{href:"mailto:"+t,children:t})," an email for enquiries!"]}):0===e.length&&0!==t.length?Object(d.jsxs)("p",{className:x.a.general,children:["Drop ",Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("a",{href:"mailto:"+t,children:t})," an email for enquiries!"]}):0!==e.length&&0===t.length?Object(d.jsxs)("p",{className:x.a.general,children:["Call them at ",Object(d.jsx)(d.Fragment,{}),Object(d.jsxs)("a",{href:"tel:"+e,children:[e," "]}),"for enquiries!"]}):void 0}(s,c),a.description,Object(d.jsx)(k.a,{content:a.body}),Object(d.jsxs)("h4",{children:["Reviews"," ",Object(d.jsxs)("span",{style:{fontWeight:"lighter",color:"rgb(106,106,106)"},children:["(",i.length," reviews)"]})]}),r]})},C=n(28),_=n(29),N=n(31),F=n(30),W=(n(48),function(e){Object(N.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(C.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).mapRef=o.createRef(),e.state={map:null},e}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var e=window.H,t=new e.service.Platform({apikey:"PQXjrqipEq_9dEtEbGpmnSBXUOOhjS20oZb1DrTlSYE"}).createDefaultLayers(),n=new e.Map(this.mapRef.current,t.vector.normal.map,{center:{lat:1.34,lng:103.82}});n.setZoom(11.35),this.setState({map:n})}},{key:"componentDidUpdate",value:function(){var e=this,t=window.H;this.state.map.removeObjects(this.state.map.getObjects()),this.props.plan.map((function(n,a){if(n.activity.length>1){var i='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><rect stroke="white" fill="#1b468d" x="1" y="1" width="22" height="22" /><text x="12" y="18" font-size="12pt" font-family="Arial" font-weight="bold" text-anchor="middle" '+'fill="white">'.concat(a+1,"</text></svg>"),r=new t.map.Icon(i),s={lat:n.lat,lng:n.long},c=new t.map.Marker(s,{icon:r});e.state.map.addObject(c)}}))}},{key:"render",value:function(){return Object(d.jsx)("div",{ref:this.mapRef,style:{margin:"0 auto",width:"809px",height:"500px"}})}}]),n}(o.Component)),B=function(e){console.log(e.wishlist[0]);var t=e.wishlist.map((function(e){return Object(d.jsxs)("p",{children:[Object(d.jsx)("i",{className:"fa fa-heart"}),Object(d.jsx)("span",{style:{fontFamily:"Julius Sans One, sans-serif",padding:"5px",listStyle:"none"},children:e.name}),Object(d.jsx)("br",{})]})})),n=Object(o.useState)([{time:"",activity:"",lat:0,long:0}]),a=Object(l.a)(n,2),i=a[0],r=a[1],s=function(e){i[e.target.id].time=e.target.value,r(Object(g.a)(i))},c=function(t){var n;i[t.target.id].activity=t.target.value;for(var a=0;a<e.wishlist.length;a++)e.wishlist[a].name===t.target.value&&(n=a);i[t.target.id].lat=e.wishlist[n].lat;var s=i.filter((function(e){return e.activity===t.target.value}));i[t.target.id].long=e.wishlist[n].long+.01*(s.length-1),r(Object(g.a)(i))},j=function(e){console.log(typeof e.target.id),console.log(i[parseInt(e.target.id)].activity),i.length>1&&r((function(t){return Object(g.a)(t).filter((function(t,n){return n!==parseInt(e.target.id)}))}))},h=i.map((function(t,n){return Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[Object(d.jsx)("input",{style:{flexBasis:"content",flexShrink:"0",flexGrow:"0"},type:"time",id:n,onChange:s,value:i[n].time,required:!0}),Object(d.jsxs)("select",{style:{margin:"auto",marginLeft:"10px",flexGrow:"2",flexBasis:"content",flexShrink:"0"},onChange:c,value:i[n].activity,id:n,children:[Object(d.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Choose your activity"}),e.wishlist.map((function(e){return Object(d.jsx)("option",{value:"".concat(e.name),children:e.name})}))]}),Object(d.jsx)("i",{onClick:j,style:{marginLeft:"10px",cursor:"pointer"},className:"fa fa-minus-circle",id:n})]})}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Object(d.jsxs)("div",{className:"wishlist",style:{backgroundColor:"rgba(255, 255, 255, 0.6)",marginLeft:"50px",marginTop:"50px",padding:"10px",minWidth:"160px",flexBasis:"280px"},children:[Object(d.jsx)("p",{style:{margin:"0",fontFamily:"Corinthia, cursive",fontSize:"xx-large"},children:"Your Wishlist"}),t]}),Object(d.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.6)",marginLeft:"50px",marginRight:"50px",marginTop:"50px",padding:"10px",flexGrow:"2",flexBasis:"content",flexShrink:"0"},children:[Object(d.jsx)("p",{style:{margin:"0",fontFamily:"Corinthia, cursive",fontSize:"xx-large"},children:"The Plan"}),h,Object(d.jsx)("br",{}),Object(d.jsx)("i",{className:"fa fa-plus-circle",style:{cursor:"pointer",fontSize:"20px",float:"right"},onClick:function(){r((function(e){return[].concat(Object(g.a)(e),[{time:"",activity:""}])}))}})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{style:{textAlign:"center",justifyContent:"center"},children:Object(d.jsx)(W,{plan:i})})]})};var D=function(){var e=["https://www.visitsingapore.com/editorials/singapore-most-iconic-landmarks/jcr:content/par/mobile_21_content_sl/sliderccpar1/editorial_generic_co.thumbnail.overview-image.1460.822.jpg","https://admin.itsnicethat.com/images/K7u3UCGdi4sJjLDhqZp-FrJ_qqM=/2569/format-webp%7Cwidth-1440/5a1545387fa44c187f001c56.jpg","https://admin.itsnicethat.com/images/1B2Dtdp0s6EFe0tmLDbttdanViE=/2577/format-webp%7Cwidth-1440/5a1546137fa44c187f001c6d.jpg","https://www.juxtapoz.com/media/k2/galleries/62447/tumblr_n3ktafKXR71rrft0ho1_1280.jpg","https://www.juxtapoz.com/media/k2/galleries/62447/tumblr_nhaqf9BWLK1rrft0ho1_1280.jpg","https://allabout.city/singapore/wp-content/uploads/2021/02/Picnic-Spots-in-Singapore-Singapore-Tuas-Lalang-Field-1.jpg"],t={backgroundImage:"url(".concat(e[Math.floor(Math.random()*e.length)],")"),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundPosition:"center",minHeight:"100vh",backgroundSize:"cover",minWidth:"100vh"},n=Object(o.useState)([]),a=Object(l.a)(n,2),i=a[0],r=a[1],j=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,r(a.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),h=Object(o.useState)(""),g=Object(l.a)(h,2),m=g[0],f=g[1],x=function(e){var t="https://tih-api.stb.gov.sg/content/v1/attractions/search?keyword=".concat(e,"&sortBy=name&sortOrder=asc&language=en&apikey=AALYYjcafVG4UE8jddwk7OeqnWAvgluD");j(t),C(!0),f(e)},y=Object(o.useState)(!1),w=Object(l.a)(y,2),k=w[0],C=w[1],_=Object(o.useState)([]),N=Object(l.a)(_,2),F=N[0],W=N[1];return Object(d.jsxs)("div",{style:t,children:[Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(b,{onSearch:C}),Object(d.jsx)(v.a,{exact:!0,path:"/",children:k?Object(d.jsx)(O,{onSubmit:x,results:i,user:m}):Object(d.jsx)(p,{onSubmit:x})}),Object(d.jsx)(v.a,{path:"/search/:name",children:Object(d.jsx)(S,{onLike:W,results:i,user:m,wishlist:F})}),Object(d.jsx)(v.a,{path:"/plan",children:Object(d.jsx)(B,{wishlist:F})})]})}),Object(d.jsx)("br",{})]})};i.a.render(Object(d.jsx)(D,{}),document.getElementById("root"))},8:function(e,t,n){e.exports={results:"Results_results__1-GjU",rating:"Results_rating__3FjJG",general:"Results_general__3JUSs"}}},[[50,1,2]]]);
//# sourceMappingURL=main.99453683.chunk.js.map