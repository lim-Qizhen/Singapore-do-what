{"ast":null,"code":"import _classCallCheck from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// src/DisplayMapClass.js\nimport{map}from\"@here/maps-api-for-javascript\";import*as React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export var DisplayMapClass=/*#__PURE__*/function(_React$Component){_inherits(DisplayMapClass,_React$Component);var _super=_createSuper(DisplayMapClass);function DisplayMapClass(){var _this;_classCallCheck(this,DisplayMapClass);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.mapRef=/*#__PURE__*/React.createRef();_this.state={// The map instance to use during cleanup\nmap:null};return _this;}_createClass(DisplayMapClass,[{key:\"componentDidMount\",value:function componentDidMount(){var H=window.H;var platform=new H.service.Platform({apikey:\"PQXjrqipEq_9dEtEbGpmnSBXUOOhjS20oZb1DrTlSYE\"});var defaultLayers=platform.createDefaultLayers();// Create an instance of the map\nvar map=new H.Map(this.mapRef.current,defaultLayers.vector.normal.map,{// This map is centered over Singapore\ncenter:{lat:1.34,lng:103.82}// pixelRatio: window.devicePixelRatio || 1,\n});map.setZoom(11.35);this.setState({map:map});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this2=this;var H=window.H;//removes all previous ones in case of changes\nthis.state.map.removeObjects(this.state.map.getObjects());// console.log(this.props.plan);\nthis.props.plan.map(function(element,index){// console.log(element.activity)\nif(element.activity.length>1){var svgMarkup='<svg width=\"24\" height=\"24\" '+'xmlns=\"http://www.w3.org/2000/svg\">'+'<rect stroke=\"white\" fill=\"#1b468d\" x=\"1\" y=\"1\" width=\"22\" '+'height=\"22\" /><text x=\"12\" y=\"18\" font-size=\"12pt\" '+'font-family=\"Arial\" font-weight=\"bold\" text-anchor=\"middle\" '+\"fill=\\\"white\\\">\".concat(index+1,\"</text></svg>\");var icon=new H.map.Icon(svgMarkup);var coords={lat:element.lat,lng:element.long};var marker=new H.map.Marker(coords,{icon:icon});_this2.state.map.addObject(marker);// console.log(this.state.map.getObjects()[0].b.lat);\n// console.log(this.state.map.getObjects()[0].b.lng);\n}});}//   componentWillUnmount() {\n//     // Cleanup after the map to avoid memory leaks when this component exits the page\n//     this.state.map.dispose();\n//   }\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{ref:this.mapRef,style:{margin:\"0 auto\",width:\"809px\",height:\"500px\"}});}}]);return DisplayMapClass;}(React.Component);","map":{"version":3,"sources":["/Users/qizhen/Desktop/GA/Github/Singapore-do-what/src/components/DisplayMapClass.js"],"names":["map","React","DisplayMapClass","mapRef","createRef","state","H","window","platform","service","Platform","apikey","defaultLayers","createDefaultLayers","Map","current","vector","normal","center","lat","lng","setZoom","setState","removeObjects","getObjects","props","plan","element","index","activity","length","svgMarkup","icon","Icon","coords","long","marker","Marker","addObject","margin","width","height","Component"],"mappings":"gpBAAA;AACA,OAASA,GAAT,KAAoB,+BAApB,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,C,2CAEA,UAAaC,CAAAA,eAAb,2WACEC,MADF,cACWF,KAAK,CAACG,SAAN,EADX,OAGEC,KAHF,CAGU,CACN;AACAL,GAAG,CAAE,IAFC,CAHV,4EAQE,4BAAoB,CAClB,GAAMM,CAAAA,CAAC,CAAGC,MAAM,CAACD,CAAjB,CACA,GAAME,CAAAA,QAAQ,CAAG,GAAIF,CAAAA,CAAC,CAACG,OAAF,CAAUC,QAAd,CAAuB,CACtCC,MAAM,CAAE,6CAD8B,CAAvB,CAAjB,CAIA,GAAMC,CAAAA,aAAa,CAAGJ,QAAQ,CAACK,mBAAT,EAAtB,CAEA;AACA,GAAMb,CAAAA,GAAG,CAAG,GAAIM,CAAAA,CAAC,CAACQ,GAAN,CACV,KAAKX,MAAL,CAAYY,OADF,CAEVH,aAAa,CAACI,MAAd,CAAqBC,MAArB,CAA4BjB,GAFlB,CAGV,CACE;AACAkB,MAAM,CAAE,CAAEC,GAAG,CAAE,IAAP,CAAaC,GAAG,CAAE,MAAlB,CACR;AAHF,CAHU,CAAZ,CASApB,GAAG,CAACqB,OAAJ,CAAY,KAAZ,EACA,KAAKC,QAAL,CAAc,CAAEtB,GAAG,CAAHA,GAAF,CAAd,EACD,CA5BH,kCA8BE,6BAAqB,iBACnB,GAAMM,CAAAA,CAAC,CAAGC,MAAM,CAACD,CAAjB,CACA;AACA,KAAKD,KAAL,CAAWL,GAAX,CAAeuB,aAAf,CAA6B,KAAKlB,KAAL,CAAWL,GAAX,CAAewB,UAAf,EAA7B,EACA;AACA,KAAKC,KAAL,CAAWC,IAAX,CAAgB1B,GAAhB,CAAoB,SAAC2B,OAAD,CAAUC,KAAV,CAAoB,CACtC;AACA,GAAID,OAAO,CAACE,QAAR,CAAiBC,MAAjB,CAA0B,CAA9B,CAAiC,CAC/B,GAAMC,CAAAA,SAAS,CACb,+BACA,qCADA,CAEA,6DAFA,CAGA,qDAHA,CAIA,8DAJA,0BAKgBH,KAAK,CAAG,CALxB,iBADF,CAOA,GAAMI,CAAAA,IAAI,CAAG,GAAI1B,CAAAA,CAAC,CAACN,GAAF,CAAMiC,IAAV,CAAeF,SAAf,CAAb,CACA,GAAMG,CAAAA,MAAM,CAAG,CAAEf,GAAG,CAAEQ,OAAO,CAACR,GAAf,CAAoBC,GAAG,CAAEO,OAAO,CAACQ,IAAjC,CAAf,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAI9B,CAAAA,CAAC,CAACN,GAAF,CAAMqC,MAAV,CAAiBH,MAAjB,CAAyB,CAAEF,IAAI,CAAEA,IAAR,CAAzB,CAAf,CACA,MAAI,CAAC3B,KAAL,CAAWL,GAAX,CAAesC,SAAf,CAAyBF,MAAzB,EACA;AACA;AACD,CACF,CAjBD,EAkBD,CAED;AACA;AACA;AACA;AA1DF,sBA4DE,iBAAS,CACP,mBACE,YACE,GAAG,CAAE,KAAKjC,MADZ,CAEE,KAAK,CAAE,CAAEoC,MAAM,CAAE,QAAV,CAAoBC,KAAK,CAAE,OAA3B,CAAoCC,MAAM,CAAE,OAA5C,CAFT,EADF,CAMD,CAnEH,6BAAqCxC,KAAK,CAACyC,SAA3C","sourcesContent":["// src/DisplayMapClass.js\nimport { map } from \"@here/maps-api-for-javascript\";\nimport * as React from \"react\";\n\nexport class DisplayMapClass extends React.Component {\n  mapRef = React.createRef();\n\n  state = {\n    // The map instance to use during cleanup\n    map: null,\n  };\n\n  componentDidMount() {\n    const H = window.H;\n    const platform = new H.service.Platform({\n      apikey: \"PQXjrqipEq_9dEtEbGpmnSBXUOOhjS20oZb1DrTlSYE\",\n    });\n\n    const defaultLayers = platform.createDefaultLayers();\n\n    // Create an instance of the map\n    const map = new H.Map(\n      this.mapRef.current,\n      defaultLayers.vector.normal.map,\n      {\n        // This map is centered over Singapore\n        center: { lat: 1.34, lng: 103.82 },\n        // pixelRatio: window.devicePixelRatio || 1,\n      }\n    );\n    map.setZoom(11.35);\n    this.setState({ map });\n  }\n\n  componentDidUpdate() {\n    const H = window.H;\n    //removes all previous ones in case of changes\n    this.state.map.removeObjects(this.state.map.getObjects());\n    // console.log(this.props.plan);\n    this.props.plan.map((element, index) => {\n      // console.log(element.activity)\n      if (element.activity.length > 1) {\n        const svgMarkup =\n          '<svg width=\"24\" height=\"24\" ' +\n          'xmlns=\"http://www.w3.org/2000/svg\">' +\n          '<rect stroke=\"white\" fill=\"#1b468d\" x=\"1\" y=\"1\" width=\"22\" ' +\n          'height=\"22\" /><text x=\"12\" y=\"18\" font-size=\"12pt\" ' +\n          'font-family=\"Arial\" font-weight=\"bold\" text-anchor=\"middle\" ' +\n          `fill=\"white\">${index + 1}</text></svg>`;\n        const icon = new H.map.Icon(svgMarkup);\n        const coords = { lat: element.lat, lng: element.long };\n        const marker = new H.map.Marker(coords, { icon: icon });\n        this.state.map.addObject(marker);\n        // console.log(this.state.map.getObjects()[0].b.lat);\n        // console.log(this.state.map.getObjects()[0].b.lng);\n      }\n    });\n  }\n\n  //   componentWillUnmount() {\n  //     // Cleanup after the map to avoid memory leaks when this component exits the page\n  //     this.state.map.dispose();\n  //   }\n\n  render() {\n    return (\n      <div\n        ref={this.mapRef}\n        style={{ margin: \"0 auto\", width: \"809px\", height: \"500px\" }}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}