{"ast":null,"code":"import _regeneratorRuntime from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import NavBar from\"./components/NavBar\";import Search from\"./components/Search\";import SearchResults from\"./components/SearchResults\";import{BrowserRouter,Route}from\"react-router-dom\";import Details from\"./components/Details\";import Plan from\"./components/Plan\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){/////Background Image/////\nvar backgroundImages=[\"https://www.visitsingapore.com/editorials/singapore-most-iconic-landmarks/jcr:content/par/mobile_21_content_sl/sliderccpar1/editorial_generic_co.thumbnail.overview-image.1460.822.jpg\",\"https://admin.itsnicethat.com/images/K7u3UCGdi4sJjLDhqZp-FrJ_qqM=/2569/format-webp%7Cwidth-1440/5a1545387fa44c187f001c56.jpg\",\"https://admin.itsnicethat.com/images/1B2Dtdp0s6EFe0tmLDbttdanViE=/2577/format-webp%7Cwidth-1440/5a1546137fa44c187f001c6d.jpg\",\"https://www.juxtapoz.com/media/k2/galleries/62447/tumblr_n3ktafKXR71rrft0ho1_1280.jpg\",\"https://www.juxtapoz.com/media/k2/galleries/62447/tumblr_nhaqf9BWLK1rrft0ho1_1280.jpg\",\"https://allabout.city/singapore/wp-content/uploads/2021/02/Picnic-Spots-in-Singapore-Singapore-Tuas-Lalang-Field-1.jpg\"];var webpageStyles={backgroundImage:\"url(\".concat(backgroundImages[Math.floor(Math.random()*backgroundImages.length)],\")\"),backgroundRepeat:\"no-repeat\",backgroundAttachment:\"fixed\",backgroundPosition:\"center\",minHeight:\"100vh\",backgroundSize:\"cover\",minWidth:\"100vh\"};/////Retrieving Search Results/////\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];var fetchAttractions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var res,attractions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url);case 3:res=_context.sent;_context.next=6;return res.json();case 6:attractions=_context.sent;setResults(attractions.data);//console.log(attractions.data);\n_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);alert(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchAttractions(_x){return _ref.apply(this,arguments);};}();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var retrieveData=function retrieveData(input){var baseURL=\"https://tih-api.stb.gov.sg/content/v1/attractions/search?keyword=\".concat(input,\"&sortBy=name&sortOrder=asc&language=en&apikey=AALYYjcafVG4UE8jddwk7OeqnWAvgluD\");fetchAttractions(baseURL);setHasSearched(true);setUserInput(input);};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasSearched=_useState6[0],setHasSearched=_useState6[1];/////Retrieving Liked activities for Plan\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),wishlist=_useState8[0],setWishlist=_useState8[1];return/*#__PURE__*/_jsxs(\"div\",{style:webpageStyles,children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(NavBar,{onSearch:setHasSearched}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:hasSearched?/*#__PURE__*/_jsx(SearchResults,{onSubmit:retrieveData,results:results,user:userInput}):/*#__PURE__*/_jsx(Search,{onSubmit:retrieveData})}),/*#__PURE__*/_jsx(Route,{path:\"/search/:name\",children:/*#__PURE__*/_jsx(Details,{onLike:setWishlist,results:results,user:userInput,wishlist:wishlist})}),/*#__PURE__*/_jsx(Route,{path:\"/plan\",children:/*#__PURE__*/_jsx(Plan,{wishlist:wishlist})})]})}),/*#__PURE__*/_jsx(\"br\",{})]});}export default App;","map":{"version":3,"sources":["/Users/qizhen/Desktop/GA/Github/Singapore-do-what/src/App.js"],"names":["React","useState","NavBar","Search","SearchResults","BrowserRouter","Route","Details","Plan","App","backgroundImages","webpageStyles","backgroundImage","Math","floor","random","length","backgroundRepeat","backgroundAttachment","backgroundPosition","minHeight","backgroundSize","minWidth","results","setResults","fetchAttractions","url","fetch","res","json","attractions","data","alert","message","userInput","setUserInput","retrieveData","input","baseURL","setHasSearched","hasSearched","wishlist","setWishlist"],"mappings":"qfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,OAASC,aAAT,CAAwBC,KAAxB,KAAqC,kBAArC,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,C,6IAEA,QAASC,CAAAA,GAAT,EAAe,CACb;AACA,GAAMC,CAAAA,gBAAgB,CAAG,CACvB,wLADuB,CAEvB,8HAFuB,CAGvB,8HAHuB,CAIvB,uFAJuB,CAKvB,uFALuB,CAMvB,wHANuB,CAAzB,CASA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,eAAe,eACbF,gBAAgB,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBL,gBAAgB,CAACM,MAA5C,CAAD,CADH,KADK,CAIpBC,gBAAgB,CAAE,WAJE,CAKpBC,oBAAoB,CAAE,OALF,CAMpBC,kBAAkB,CAAE,QANA,CAOpBC,SAAS,CAAE,OAPS,CAQpBC,cAAc,CAAE,OARI,CASpBC,QAAQ,CAAE,OATU,CAAtB,CAYA;AACA,cAA8BrB,QAAQ,CAAC,EAAD,CAAtC,wCAAOsB,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,gBAAgB,0FAAG,iBAAOC,GAAP,4KAEHC,CAAAA,KAAK,CAACD,GAAD,CAFF,QAEfE,GAFe,qCAGKA,CAAAA,GAAG,CAACC,IAAJ,EAHL,QAGfC,WAHe,eAIrBN,UAAU,CAACM,WAAW,CAACC,IAAb,CAAV,CACA;AALqB,iFAOrBC,KAAK,CAAC,YAAIC,OAAL,CAAL,CAPqB,qEAAH,kBAAhBR,CAAAA,gBAAgB,4CAAtB,CAUA,eAAkCxB,QAAQ,CAAC,EAAD,CAA1C,yCAAOiC,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,OAAO,4EAAuED,KAAvE,kFAAb,CACAZ,gBAAgB,CAACa,OAAD,CAAhB,CACAC,cAAc,CAAC,IAAD,CAAd,CACAJ,YAAY,CAACE,KAAD,CAAZ,CACD,CALD,CAMA,eAAsCpC,QAAQ,CAAC,KAAD,CAA9C,yCAAOuC,WAAP,eAAoBD,cAApB,eAEA;AACA,eAAgCtC,QAAQ,CAAC,EAAD,CAAxC,yCAAOwC,QAAP,eAAiBC,WAAjB,eAIA,mBACE,aAAK,KAAK,CAAE/B,aAAZ,wBACE,sCACE,MAAC,aAAD,yBACE,KAAC,MAAD,EAAQ,QAAQ,CAAE4B,cAAlB,EADF,cAEE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,UACGC,WAAW,cACV,KAAC,aAAD,EACE,QAAQ,CAAEJ,YADZ,CAEE,OAAO,CAAEb,OAFX,CAGE,IAAI,CAAEW,SAHR,EADU,cAOV,KAAC,MAAD,EAAQ,QAAQ,CAAEE,YAAlB,EARJ,EAFF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,uBACE,KAAC,OAAD,EAAS,MAAM,CAAEM,WAAjB,CAA8B,OAAO,CAAEnB,OAAvC,CAAgD,IAAI,CAAEW,SAAtD,CAAiE,QAAQ,CAAEO,QAA3E,EADF,EAbF,cAgBE,KAAC,KAAD,EAAO,IAAI,CAAG,OAAd,uBACE,KAAC,IAAD,EAAM,QAAQ,CAAIA,QAAlB,EADF,EAhBF,GADF,EADF,cAuBE,aAvBF,GADF,CA2BD,CAED,cAAehC,CAAAA,GAAf","sourcesContent":["import React, { useState } from \"react\";\nimport NavBar from \"./components/NavBar\";\nimport Search from \"./components/Search\";\nimport SearchResults from \"./components/SearchResults\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Details from \"./components/Details\";\nimport Plan from \"./components/Plan\";\n\nfunction App() {\n  /////Background Image/////\n  const backgroundImages = [\n    \"https://www.visitsingapore.com/editorials/singapore-most-iconic-landmarks/jcr:content/par/mobile_21_content_sl/sliderccpar1/editorial_generic_co.thumbnail.overview-image.1460.822.jpg\",\n    \"https://admin.itsnicethat.com/images/K7u3UCGdi4sJjLDhqZp-FrJ_qqM=/2569/format-webp%7Cwidth-1440/5a1545387fa44c187f001c56.jpg\",\n    \"https://admin.itsnicethat.com/images/1B2Dtdp0s6EFe0tmLDbttdanViE=/2577/format-webp%7Cwidth-1440/5a1546137fa44c187f001c6d.jpg\",\n    \"https://www.juxtapoz.com/media/k2/galleries/62447/tumblr_n3ktafKXR71rrft0ho1_1280.jpg\",\n    \"https://www.juxtapoz.com/media/k2/galleries/62447/tumblr_nhaqf9BWLK1rrft0ho1_1280.jpg\",\n    \"https://allabout.city/singapore/wp-content/uploads/2021/02/Picnic-Spots-in-Singapore-Singapore-Tuas-Lalang-Field-1.jpg\",\n  ];\n\n  const webpageStyles = {\n    backgroundImage: `url(${\n      backgroundImages[Math.floor(Math.random() * backgroundImages.length)]\n    })`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundAttachment: \"fixed\",\n    backgroundPosition: \"center\",\n    minHeight: \"100vh\",\n    backgroundSize: \"cover\",\n    minWidth: \"100vh\"\n  };\n\n  /////Retrieving Search Results/////\n  const [results, setResults] = useState([]);\n\n  const fetchAttractions = async (url) => {\n    try {\n      const res = await fetch(url);\n      const attractions = await res.json();\n      setResults(attractions.data);\n      //console.log(attractions.data);\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n  const [userInput, setUserInput] = useState(\"\");\n  const retrieveData = (input) => {\n    const baseURL = `https://tih-api.stb.gov.sg/content/v1/attractions/search?keyword=${input}&sortBy=name&sortOrder=asc&language=en&apikey=AALYYjcafVG4UE8jddwk7OeqnWAvgluD`;\n    fetchAttractions(baseURL);\n    setHasSearched(true);\n    setUserInput(input);\n  };\n  const [hasSearched, setHasSearched] = useState(false);\n\n  /////Retrieving Liked activities for Plan\n  const [wishlist, setWishlist] = useState([]);\n\n\n  \n  return (\n    <div style={webpageStyles}>\n      < >\n        <BrowserRouter>\n          <NavBar onSearch={setHasSearched}/>\n          <Route exact path=\"/\">\n            {hasSearched ? (\n              <SearchResults\n                onSubmit={retrieveData}\n                results={results}\n                user={userInput}\n              />\n            ) : (\n              <Search onSubmit={retrieveData} />\n            )}\n          </Route>\n          <Route path=\"/search/:name\">\n            <Details onLike={setWishlist} results={results} user={userInput} wishlist={wishlist}/>\n          </Route>\n          <Route path = \"/plan\">\n            <Plan wishlist = {wishlist}></Plan>\n          </Route>\n        </BrowserRouter>\n      </>\n      <br/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}