{"ast":null,"code":"import _toConsumableArray from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from\"react\";import{useParams}from\"react-router\";import styles from\"./Results.module.css\";import ReactStars from\"react-rating-stars-component\";import{Markup}from\"interweave\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Details=function Details(props){var params=useParams();var names=props.results.map(function(result){return result.name;});var resultToDisplay=props.results[names.indexOf(params.name)];var allReviews=resultToDisplay.reviews;var reviewsDisplay=allReviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:\"0\"},children:[review.authorName,/*#__PURE__*/_jsx(\"span\",{style:{float:\"right\",color:\"rgb(106,106,106)\"},children:review.time.split(\"T\")[0]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ReactStars,{value:review.rating,size:18,isHalf:true,edit:false,activeColor:\"rgb(248, 162, 42)\"})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"small\",margin:\"0\"},children:review.text})]});});var phone=resultToDisplay.contact.primaryContactNo;var email=resultToDisplay.officialEmail;var contactDisplay=function contactDisplay(phone,email){if(phone.length!==0&&email.length!==0){return/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Call them at \",/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"a\",{href:\"tel:\"+phone,children:[phone,\" \"]}),\"or drop \",/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\"+email,children:email}),\" an email for enquiries!\"]});}else if(phone.length===0&&email.length!==0){return/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Drop \",/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\"+email,children:email}),\" an email for enquiries!\"]});}else if(phone.length!==0&&email.length===0){return/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Call them at \",/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"a\",{href:\"tel:\"+phone,children:[phone,\" \"]}),\"for enquiries!\"]});}};/////determining if already in wishlist\nvar wishlistIndex=-1;for(var i=0;i<props.wishlist.length;i++){if(props.wishlist[i].name===resultToDisplay.name){wishlistIndex=i;}}var inWishlist=wishlistIndex!==-1;/////setting Heart Colour\nvar heartColour=\"black\";inWishlist?heartColour=\"red\":heartColour=\"black\";var handleClick=function handleClick(e){if(!inWishlist){props.onLike(function(prevState){return[].concat(_toConsumableArray(prevState),[{name:resultToDisplay.name,lat:resultToDisplay.location.latitude,long:resultToDisplay.location.longitude}]);});}else{props.onLike(function(prevState){return _toConsumableArray(prevState).filter(function(element,index){return index!==wishlistIndex;});});}};/////getting map\n// const platform = new H.service.Platform({\n//   apikey: \"PQXjrqipEq_9dEtEbGpmnSBXUOOhjS20oZb1DrTlSYE\",\n// });\n// const maptypes = platform.createDefaultLayers();\n// console.log(maptypes);\n// const map = new H.Map(document.getElementById('mapdiv'), maptypes.vector.normal.map, {\n//   center: {lat: 0, lng: 51},\n//   zoom: 8\n// });\nreturn/*#__PURE__*/_jsxs(\"div\",{className:styles.results,style:{position:\"relative\"},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[resultToDisplay.name,\" \",/*#__PURE__*/_jsxs(\"span\",{style:{float:\"right\"},children:[resultToDisplay.rating,\"/5\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-heart\",style:{color:\"\".concat(heartColour)}}),\" I want!\"]}),/*#__PURE__*/_jsx(\"div\",{className:styles.rating,children:/*#__PURE__*/_jsx(ReactStars,{value:resultToDisplay.rating,size:24,isHalf:true,edit:false,activeColor:\"rgb(248, 162, 42)\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Address:\",\" \",resultToDisplay.address.streetName!==\"\"?\"\".concat(resultToDisplay.address.block,\" \").concat(resultToDisplay.address.streetName):\"-\"]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Nearest MRT station: \",resultToDisplay.nearestMrtStation]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Official Website: \",/*#__PURE__*/_jsx(_Fragment,{children:\" \"}),resultToDisplay.officialWebsite.length!==0?/*#__PURE__*/_jsx(\"a\",{href:resultToDisplay.officialWebsite[0]===\"h\"?resultToDisplay.officialWebsite:\"https://\"+resultToDisplay.officialWebsite,target:\"_blank\",rel:\"noopener noreferrer\",children:resultToDisplay.officialWebsite!==\"\"?\"\".concat(resultToDisplay.officialWebsite):\"-\"}):\"-\"]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.general,children:[\"Pricing:\",\" \",resultToDisplay.pricing.others.length!==0?resultToDisplay.pricing.others:\"-\"]}),contactDisplay(phone,email),resultToDisplay.description,/*#__PURE__*/_jsx(Markup,{content:resultToDisplay.body}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews\",\" \",/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:\"lighter\",color:\"rgb(106,106,106)\"},children:[\"(\",allReviews.length,\" reviews)\"]})]}),reviewsDisplay]});};export default Details;","map":{"version":3,"sources":["/Users/qizhen/Desktop/GA/Github/Singapore-do-what/src/components/Details.js"],"names":["React","useParams","styles","ReactStars","Markup","Details","props","params","names","results","map","result","name","resultToDisplay","indexOf","allReviews","reviews","reviewsDisplay","review","marginBottom","margin","authorName","float","color","time","split","rating","fontSize","text","phone","contact","primaryContactNo","email","officialEmail","contactDisplay","length","general","wishlistIndex","i","wishlist","inWishlist","heartColour","handleClick","e","onLike","prevState","lat","location","latitude","long","longitude","filter","element","index","position","address","streetName","block","nearestMrtStation","officialWebsite","pricing","others","description","body","fontWeight"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useParams } from \"react-router\";\nimport styles from \"./Results.module.css\";\nimport ReactStars from \"react-rating-stars-component\";\nimport { Markup } from \"interweave\";\n\nconst Details = (props) => {\n  const params = useParams();\n  const names = props.results.map((result) => result.name);\n  const resultToDisplay = props.results[names.indexOf(params.name)];\n  const allReviews = resultToDisplay.reviews;\n  const reviewsDisplay = allReviews.map((review) => {\n    return (\n      <div style={{ marginBottom: \"20px\" }}>\n        <p style={{ margin: \"0\" }}>\n          {review.authorName}\n          <span style={{ float: \"right\", color: \"rgb(106,106,106)\" }}>\n            {review.time.split(\"T\")[0]}\n          </span>\n        </p>\n        <div>\n          <ReactStars\n            value={review.rating}\n            size={18}\n            isHalf={true}\n            edit={false}\n            activeColor=\"rgb(248, 162, 42)\"\n          />\n        </div>\n        <p style={{ fontSize: \"small\", margin: \"0\" }}>{review.text}</p>\n      </div>\n    );\n  });\n  const phone = resultToDisplay.contact.primaryContactNo;\n  const email = resultToDisplay.officialEmail;\n  const contactDisplay = (phone, email) => {\n    if (phone.length !== 0 && email.length !== 0) {\n      return (\n        <p className={styles.general}>\n          Call them at <></>\n          <a href={\"tel:\" + phone}>{phone} </a>\n          or drop <></>\n          <a href={\"mailto:\" + email}>{email}</a> an email for enquiries!\n        </p>\n      );\n    } else if (phone.length === 0 && email.length !== 0) {\n      return (\n        <p className={styles.general}>\n          Drop <></>\n          <a href={\"mailto:\" + email}>{email}</a> an email for enquiries!\n        </p>\n      );\n    } else if (phone.length !== 0 && email.length === 0) {\n      return (\n        <p className={styles.general}>\n          Call them at <></>\n          <a href={\"tel:\" + phone}>{phone} </a>\n          for enquiries!\n        </p>\n      );\n    }\n  };\n  /////determining if already in wishlist\n  let wishlistIndex = -1;\n  for (let i = 0; i < props.wishlist.length; i++) {\n    if (props.wishlist[i].name === resultToDisplay.name) {\n      wishlistIndex = i;\n    }\n  }\n  const inWishlist = wishlistIndex !== -1;\n  /////setting Heart Colour\n  let heartColour = \"black\";\n  inWishlist ? (heartColour = \"red\") : (heartColour = \"black\");\n\n  const handleClick = (e) => {\n    if (!inWishlist) {\n      props.onLike((prevState) => {\n        return [\n          ...prevState,\n          {\n            name: resultToDisplay.name,\n            lat: resultToDisplay.location.latitude,\n            long: resultToDisplay.location.longitude,\n          },\n        ];\n      });\n    } else {\n      props.onLike((prevState) => {\n        return [...prevState].filter(\n          (element, index) => index !== wishlistIndex\n        );\n      });\n    }\n  };\n\n  /////getting map\n  // const platform = new H.service.Platform({\n  //   apikey: \"PQXjrqipEq_9dEtEbGpmnSBXUOOhjS20oZb1DrTlSYE\",\n  // });\n  // const maptypes = platform.createDefaultLayers();\n  // console.log(maptypes);\n  // const map = new H.Map(document.getElementById('mapdiv'), maptypes.vector.normal.map, {\n  //   center: {lat: 0, lng: 51},\n  //   zoom: 8\n  // });\n\n  return (\n    <div className={styles.results} style={{ position: \"relative\" }}>\n      <h3>\n        {resultToDisplay.name}{\" \"}\n        <span style={{ float: \"right\" }}>{resultToDisplay.rating}/5</span>\n      </h3>\n      <button onClick={handleClick}>\n        <i className=\"fa fa-heart\" style={{ color: `${heartColour}` }} /> I\n        want!\n      </button>\n      <div className={styles.rating}>\n        <ReactStars\n          value={resultToDisplay.rating}\n          size={24}\n          isHalf={true}\n          edit={false}\n          activeColor=\"rgb(248, 162, 42)\"\n        />\n      </div>\n      <br />\n      <p className={styles.general}>\n        Address:{\" \"}\n        {resultToDisplay.address.streetName !== \"\"\n          ? `${resultToDisplay.address.block} ${resultToDisplay.address.streetName}`\n          : \"-\"}\n      </p>\n      <p className={styles.general}>\n        Nearest MRT station: {resultToDisplay.nearestMrtStation}\n      </p>\n      {/* Official Website */}\n      <p className={styles.general}>\n        Official Website: <> </>\n        {resultToDisplay.officialWebsite.length !== 0 ? (\n          <a\n            href={\n              resultToDisplay.officialWebsite[0] === \"h\"\n                ? resultToDisplay.officialWebsite\n                : \"https://\" + resultToDisplay.officialWebsite\n            }\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {resultToDisplay.officialWebsite !== \"\"\n              ? `${resultToDisplay.officialWebsite}`\n              : \"-\"}\n          </a>\n        ) : (\n          \"-\"\n        )}\n      </p>\n      {/* Price */}\n      <p className={styles.general}>\n        Pricing:{\" \"}\n        {resultToDisplay.pricing.others.length !== 0\n          ? resultToDisplay.pricing.others\n          : \"-\"}\n      </p>\n      {contactDisplay(phone, email)}\n      {resultToDisplay.description}\n      <Markup content={resultToDisplay.body} />\n      <h4>\n        Reviews{\" \"}\n        <span style={{ fontWeight: \"lighter\", color: \"rgb(106,106,106)\" }}>\n          ({allReviews.length} reviews)\n        </span>\n      </h4>\n      {reviewsDisplay}\n    </div>\n  );\n};\n\nexport default Details;\n"]},"metadata":{},"sourceType":"module"}