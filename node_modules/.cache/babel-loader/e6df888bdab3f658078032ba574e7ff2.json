{"ast":null,"code":"import _toConsumableArray from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/qizhen/Desktop/GA/Github/Singapore-do-what/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{DisplayMapClass}from\"./DisplayMapClass\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Plan=function Plan(props){console.log(props.wishlist[0]);var wishlistDisplay=props.wishlist.map(function(want){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-heart\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:\"Julius Sans One, sans-serif\",padding:\"5px\",listStyle:\"none\"},children:want.name}),/*#__PURE__*/_jsx(\"br\",{})]});});var wishlistStyles={backgroundColor:\"rgba(255, 255, 255, 0.6)\",marginLeft:\"50px\",marginTop:\"50px\",padding:\"10px\",minWidth:\"160px\",flexBasis:\"280px\"};var planStyles={backgroundColor:\"rgba(255, 255, 255, 0.6)\",marginLeft:\"50px\",marginRight:\"50px\",marginTop:\"50px\",padding:\"10px\",flexGrow:\"2\",flexBasis:\"content\",flexShrink:\"0\"};var _useState=useState([{time:\"\",activity:\"\",lat:0,long:0}]),_useState2=_slicedToArray(_useState,2),plan=_useState2[0],setPlan=_useState2[1];/////These functions are just to make sure we delete the right row\nvar handleTimeChange=function handleTimeChange(e){plan[e.target.id].time=e.target.value;setPlan(_toConsumableArray(plan));};var handleActivityChange=function handleActivityChange(e){plan[e.target.id].activity=e.target.value;//finding latitude and longitude to save for mapping\nvar wishlistIndex;for(var i=0;i<props.wishlist.length;i++){if(props.wishlist[i].name===e.target.value){wishlistIndex=i;}}plan[e.target.id].lat=props.wishlist[wishlistIndex].lat;//need to find repeats in plan to right shift the marker on the map\nvar sameElementsAlreadyPlanned=plan.filter(function(element){return element.activity===e.target.value;});plan[e.target.id].long=props.wishlist[wishlistIndex].long+(sameElementsAlreadyPlanned.length-1)*0.01;setPlan(_toConsumableArray(plan));};var handleDelete=function handleDelete(e){console.log(typeof e.target.id);//e.target gives the minus icon element which has id\nconsole.log(plan[parseInt(e.target.id)].activity);if(plan.length>1){setPlan(function(prevState){return _toConsumableArray(prevState).filter(function(element,index){return index!==parseInt(e.target.id);});});}};var itinerary=plan.map(function(event,index){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"input\",{style:{flexBasis:\"content\",flexShrink:\"0\",flexGrow:\"0\"},type:\"time\",id:index,onChange:handleTimeChange,value:plan[index].time,required:true}),/*#__PURE__*/_jsxs(\"select\",{style:{margin:\"auto\",marginLeft:\"10px\",flexGrow:\"2\",flexBasis:\"content\",flexShrink:\"0\"},onChange:handleActivityChange,value:plan[index].activity,id:index,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,hidden:true,children:\"Choose your activity\"}),props.wishlist.map(function(want){return/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(want.name),children:want.name});})]}),/*#__PURE__*/_jsx(\"i\",{onClick:handleDelete,style:{marginLeft:\"10px\",cursor:\"pointer\"},className:\"fa fa-minus-circle\",id:index})]});});var handleAdd=function handleAdd(){setPlan(function(prevState){return[].concat(_toConsumableArray(prevState),[{time:\"\",activity:\"\"}]);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wishlist\",style:wishlistStyles,children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"0\",fontFamily:\"Corinthia, cursive\",fontSize:\"xx-large\"},children:\"Your Wishlist\"}),wishlistDisplay]}),/*#__PURE__*/_jsxs(\"div\",{style:planStyles,children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"0\",fontFamily:\"Corinthia, cursive\",fontSize:\"xx-large\"},children:\"The Plan\"}),itinerary,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-circle\",style:{cursor:\"pointer\",fontSize:\"20px\",float:\"right\"},onClick:handleAdd})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(DisplayMapClass,{plan:plan})})]});};export default Plan;","map":{"version":3,"sources":["/Users/qizhen/Desktop/GA/Github/Singapore-do-what/src/components/Plan.js"],"names":["React","useState","DisplayMapClass","Plan","props","console","log","wishlist","wishlistDisplay","map","want","fontFamily","padding","listStyle","name","wishlistStyles","backgroundColor","marginLeft","marginTop","minWidth","flexBasis","planStyles","marginRight","flexGrow","flexShrink","time","activity","lat","long","plan","setPlan","handleTimeChange","e","target","id","value","handleActivityChange","wishlistIndex","i","length","sameElementsAlreadyPlanned","filter","element","handleDelete","parseInt","prevState","index","itinerary","event","display","alignItems","marginBottom","margin","cursor","handleAdd","fontSize","float","textAlign","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { DisplayMapClass } from \"./DisplayMapClass\";\n\nconst Plan = (props) => {\n  console.log(props.wishlist[0]);\n  const wishlistDisplay = props.wishlist.map((want) => {\n    return (\n      <p>\n        <i className=\"fa fa-heart\"></i>\n        <span\n          style={{\n            fontFamily: \"Julius Sans One, sans-serif\",\n            padding: \"5px\",\n            listStyle: \"none\",\n          }}\n        >\n          {want.name}\n        </span>\n        <br />\n      </p>\n    );\n  });\n  const wishlistStyles = {\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n    marginLeft: \"50px\",\n    marginTop: \"50px\",\n    padding: \"10px\",\n    minWidth: \"160px\",\n    flexBasis: \"280px\",\n  };\n  const planStyles = {\n    backgroundColor: \"rgba(255, 255, 255, 0.6)\",\n    marginLeft: \"50px\",\n    marginRight: \"50px\",\n    marginTop: \"50px\",\n    padding: \"10px\",\n    flexGrow: \"2\",\n    flexBasis: \"content\",\n    flexShrink: \"0\",\n  };\n\n  const [plan, setPlan] = useState([\n    { time: \"\", activity: \"\", lat: 0, long: 0 },\n  ]);\n  /////These functions are just to make sure we delete the right row\n  const handleTimeChange = (e) => {\n    plan[e.target.id].time = e.target.value;\n    setPlan([...plan]);\n  };\n\n  const handleActivityChange = (e) => {\n    plan[e.target.id].activity = e.target.value;\n    //finding latitude and longitude to save for mapping\n    let wishlistIndex;\n    for (let i = 0; i < props.wishlist.length; i++) {\n      if (props.wishlist[i].name === e.target.value) {\n        wishlistIndex = i;\n      }\n    }\n\n    plan[e.target.id].lat = props.wishlist[wishlistIndex].lat;\n    //need to find repeats in plan to right shift the marker on the map\n    const sameElementsAlreadyPlanned = plan.filter(\n      (element) => element.activity === e.target.value\n    );\n\n    plan[e.target.id].long =\n      props.wishlist[wishlistIndex].long +\n      (sameElementsAlreadyPlanned.length - 1) * 0.01;\n\n    setPlan([...plan]);\n  };\n\n  const handleDelete = (e) => {\n    console.log(typeof e.target.id); //e.target gives the minus icon element which has id\n    console.log(plan[parseInt(e.target.id)].activity);\n    if (plan.length > 1) {\n      setPlan((prevState) => {\n        return [...prevState].filter(\n          (element, index) => index !== parseInt(e.target.id)\n        );\n      });\n    }\n  };\n\n  const itinerary = plan.map((event, index) => {\n    return (\n      <div\n        style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"10px\" }}\n      >\n        <input\n          style={{ flexBasis: \"content\", flexShrink: \"0\", flexGrow: \"0\" }}\n          type=\"time\"\n          id={index}\n          onChange={handleTimeChange}\n          value={plan[index].time}\n          required\n        ></input>\n        <select\n          style={{\n            margin: \"auto\",\n            marginLeft: \"10px\",\n            flexGrow: \"2\",\n            flexBasis: \"content\",\n            flexShrink: \"0\",\n          }}\n          onChange={handleActivityChange}\n          value={plan[index].activity}\n          id={index}\n        >\n          <option value=\"\" disabled hidden>\n            Choose your activity\n          </option>\n          {props.wishlist.map((want) => {\n            return <option value={`${want.name}`}>{want.name}</option>;\n          })}\n        </select>\n        <i\n          onClick={handleDelete}\n          style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\n          className=\"fa fa-minus-circle\"\n          id={index}\n        ></i>\n      </div>\n    );\n  });\n\n  const handleAdd = () => {\n    setPlan((prevState) => {\n      return [...prevState, { time: \"\", activity: \"\" }];\n    });\n  };\n\n  return (\n    <>\n      <div style={{ display: \"flex\", alignItems: \"flex-start\" }}>\n        <div className=\"wishlist\" style={wishlistStyles}>\n          <p\n            style={{\n              margin: \"0\",\n              fontFamily: \"Corinthia, cursive\",\n              fontSize: \"xx-large\",\n            }}\n          >\n            Your Wishlist\n          </p>\n          {wishlistDisplay}\n        </div>\n        <div style={planStyles}>\n          <p\n            style={{\n              margin: \"0\",\n              fontFamily: \"Corinthia, cursive\",\n              fontSize: \"xx-large\",\n            }}\n          >\n            The Plan\n          </p>\n          {itinerary}\n          <br />\n          <i\n            className=\"fa fa-plus-circle\"\n            style={{ cursor: \"pointer\", fontSize: \"20px\", float: \"right\" }}\n            onClick={handleAdd}\n          ></i>\n        </div>\n      </div>\n      <br />\n      <div style={{ textAlign: \"center\", justifyContent: \"center\" }}>\n        <DisplayMapClass plan={plan} />\n      </div>\n    </>\n  );\n};\n\nexport default Plan;\n"]},"metadata":{},"sourceType":"module"}